<html>

    <head>
        <title>Mandelbrot Set Explorer</title>
        <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

        <!-- Optional theme -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">

        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>

        <script id="shader-fs" type="x-shader/x-fragment">
            precision mediump float;

  varying vec2 vPosition;

  void main(void) {
      float cx = vPosition.x;
      float cy = vPosition.y;

      float hue;
      float saturation;
      float value;
      float hueRound;
      int hueIndex;
      float f;
      float p;
      float q;
      float t;


      float x = 0.0;
      float y = 0.0;
      float tempX = 0.0;
      int i = 0;
      int runaway = 0;
      for (int i=0; i < 100; i++) {
          tempX = x * x - y * y + float(cx);
          y = 2.0 * x * y + float(cy);
          x = tempX;
          if (runaway == 0 && x * x + y * y > 100.0) {
              runaway = i;
          }
      }

      if (runaway != 0) {
          hue = float(runaway) / 200.0;
          saturation = 0.6;
          value = 1.0;

          hueRound = hue * 6.0;
          hueIndex = int(mod(float(int(hueRound)), 6.0));
          f = fract(hueRound);
          p = value * (1.0 - saturation);
          q = value * (1.0 - f * saturation);
          t = value * (1.0 - (1.0 - f) * saturation);

          if (hueIndex == 0)
              gl_FragColor = vec4(value, t, p, 1.0);
      else if (hueIndex == 1)
          gl_FragColor = vec4(q, value, p, 1.0);
      else if (hueIndex == 2)
          gl_FragColor = vec4(p, value, t, 1.0);
      else if (hueIndex == 3)
          gl_FragColor = vec4(p, q, value, 1.0);
      else if (hueIndex == 4)
          gl_FragColor = vec4(t, p, value, 1.0);
      else if (hueIndex == 5)
          gl_FragColor = vec4(value, p, q, 1.0);

      } else {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
      }
  }
</script>

<script id="shader-vs" type="x-shader/x-vertex">
    attribute vec2 aVertexPosition;
  attribute vec2 aPlotPosition;

  varying vec2 vPosition;

  void main(void) {
      gl_Position = vec4(aVertexPosition, 1.0, 1.0);
      vPosition = aPlotPosition;
  }
</script>


<script type="text/javascript" src="mandelbrot.js">
</script>


<style>
    /* make the body fill the window */
html, body {
    margin: 0px;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background-color:darkgrey;
}
</style>

</head>


<body onload="webGLStart();" width="100%">
    <canvas id="gl-canvas" style="width: 900; height: 660;"></canvas>
    <h2 background="black" >Control</h2>
    <div class="table-responsive" style="height: 40%">
        <table class="table table-bordered">
            <colgroup>
                <col class="col-xs-2">
                <col class="col-xs-7">
            </colgroup>
            <thead>
                <tr>
                    <th>Key(s)</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th scope="row">
                        <code>Space</code>
                    </th>
                    <td>Zoom In</td>
                </tr>
                <tr>
                    <th scope="row">
                        <code>Shift + Space</code>
                    </th>
                    <td>Zoom Out</td>
                </tr>
                <tr>
                    <th scope="row">
                        <code>Left </code>
                    </th>
                    <td>Translate left</td>
                </tr>
                <tr>
                    <th scope="row">
                        <code>Right </code>
                    </th>
                    <td>Translate right</td>
                </tr>
                <tr>
                    <th scope="row">
                        <code>Up </code>
                    </th>
                    <td>Translate up</td>
                </tr>
                <tr>
                    <th scope="row">
                        <code>Down </code>
                    </th>
                    <td>Translate down</td>
                </tr>
            </tbody>
        </table>
    </div>
    <button onclick="resetZoom();">Reset</button>
</body>

</html>
